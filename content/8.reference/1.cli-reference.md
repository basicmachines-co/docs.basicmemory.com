---
title: CLI Reference
description: Command-line reference for Basic Memory local and cloud workflows.
---

Use `bm` (short) or `basic-memory` (full). Examples below use `bm`.

---

## Core commands

### `bm status`

Check system/project status. Shows sync state, project information, and database health.

```bash
bm status
bm status --verbose
bm status --json
```

### `bm mcp`

Run the local MCP server. This starts the Model Context Protocol server that AI assistants connect to.

```bash
bm mcp
bm --project main mcp
```

### `bm watch`

Run the file watcher as a standalone long-running process. This monitors your project directory for file changes and keeps the database index up to date in real-time.

Use `bm watch` when you're editing notes in an external editor (Obsidian, VS Code, etc.) and want changes to be picked up immediately without running the full MCP server.

```bash
bm watch
bm watch --project main
```

| Flag | Description |
|------|-------------|
| `--project` | Watch a specific project (uses default project if omitted) |

### `bm reindex`

Rebuild search indexes and/or vector embeddings. Running without flags rebuilds both the full-text search index and vector embeddings (if semantic search is enabled).

```bash
# Rebuild everything
bm reindex

# Rebuild only full-text search index
bm reindex --search

# Rebuild only vector embeddings (requires semantic extras)
bm reindex --embeddings

# Reindex a specific project
bm reindex --project main
bm reindex -p main
```

| Flag | Description |
|------|-------------|
| `--search` | Rebuild only the full-text search index |
| `--embeddings` | Rebuild only vector embeddings |
| `--project`, `-p` | Target a specific project |

When neither `--search` nor `--embeddings` is specified, both are rebuilt.

---

## Project management

### List/add/remove/default

```bash
bm project list
bm project add research ~/Documents/research
bm project remove research
bm project default main
bm project info
```

### Routing modes (per project)

Route specific projects through cloud while keeping others local:

```bash
bm project set-cloud research
bm project set-local research
```

### Sync-related project commands (cloud workflows)

```bash
bm project sync-setup research ~/Documents/research
bm project sync --name research
bm project bisync --name research
bm project check --name research
bm project bisync-reset --name research
```

---

## Cloud commands

### Authentication and status

```bash
bm cloud login
bm cloud status
bm cloud logout
```

### API keys

```bash
bm cloud set-key bmc_...
bm cloud create-key "my-laptop"
```

::note
`bm cloud create-key` requires an active OAuth session. Run `bm cloud login` first.
::

### Setup and upload

```bash
bm cloud setup
bm cloud upload ~/my-notes --project research --create-project
```

### Snapshots

```bash
bm cloud snapshot create "Before migration"
bm cloud snapshot list
bm cloud snapshot show <snapshot-id>
bm cloud snapshot browse <snapshot-id>
bm cloud snapshot delete <snapshot-id>
```

### Promo controls

```bash
bm cloud promo --off
bm cloud promo --on
```

---

## Schema commands

Tools for defining, validating, and evolving note structure. See [Schema System](/concepts/schema-system) for concepts and workflow.

### `bm schema validate`

Validate notes against their schema definition. Pass a note type to validate all notes of that type, or a specific file path to validate one note.

```bash
# Validate all notes of a type
bm schema validate person

# Validate one specific note
bm schema validate people/ada-lovelace.md

# Strict mode — treat warnings as errors
bm schema validate person --strict

# Target a specific project
bm schema validate person --project research

# Route to local or cloud
bm schema validate person --local
bm schema validate person --cloud
```

| Flag | Description |
|------|-------------|
| `--strict` | Treat validation warnings as errors (exit code 1 on any issue) |
| `--project` | Target a specific project |
| `--local` | Force local routing |
| `--cloud` | Force cloud routing |

### `bm schema infer`

Analyze existing notes of a type and suggest a schema based on common observation categories, relation types, and frontmatter fields.

```bash
# Infer schema for a note type
bm schema infer person

# Lower the threshold to include less common fields
bm schema infer person --threshold 0.1

# Save the inferred schema directly as a schema note
bm schema infer person --save

# Target a specific project
bm schema infer person --project research
```

| Flag | Description |
|------|-------------|
| `--threshold` | Minimum field frequency for inclusion (default `0.25` — fields in 25%+ of notes) |
| `--save` | Save the inferred schema as a schema note in the `schemas/` directory |
| `--project` | Target a specific project |
| `--local` | Force local routing |
| `--cloud` | Force cloud routing |

### `bm schema diff`

Compare a schema definition against actual note usage to detect drift. Shows new fields appearing, old fields disappearing, and cardinality changes.

```bash
# Check drift for a note type
bm schema diff person

# Target a specific project
bm schema diff person --project research
```

| Flag | Description |
|------|-------------|
| `--project` | Target a specific project |
| `--local` | Force local routing |
| `--cloud` | Force cloud routing |

---

## Tool commands (CLI wrapper for MCP tools)

Command group: `bm tool` (singular). This provides CLI access to the same MCP tools that AI assistants use, useful for scripting, debugging, and quick operations from the terminal.

```bash
# Write/read/search
bm tool write-note --title "API Notes" --folder specs --content "# API Notes"
bm tool read-note "specs/api-notes"
bm tool search-notes --query "authentication"

# Context and activity
bm tool build-context --url "memory://main/specs/api-notes"
bm tool recent-activity

# Continue conversation prompt helper
bm tool continue-conversation --topic "auth refactor"
```

Routing overrides are supported on tool subcommands. These override the project's configured routing mode for a single command:

```bash
# Force local routing for this command
bm tool search-notes --query "api" --local

# Force cloud routing for this command
bm tool search-notes --query "api" --cloud
```

---

## Import commands

```bash
bm import claude conversations
bm import claude projects
bm import chatgpt
bm import memory-json /path/to/export.json
```

---

## Notes on defaults

- If `--project` is omitted, Basic Memory falls back to `default_project` when configured.
- `default_project_mode` is no longer the active configuration model.

---

## Related pages

- [Configuration](/reference/configuration)
- [MCP Tools Reference](/reference/mcp-tools-reference)
- [Cloud Guide](/cloud/cloud-guide)
- [Schema System](/concepts/schema-system)
- [Semantic Search](/concepts/semantic-search)

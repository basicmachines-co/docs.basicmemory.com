# v0.19.0 Documentation Mapping Plan

## Scope
- Source diff reviewed: `basic-memory v0.18.4..HEAD`
- Diff size: 18 commits, 334 files changed
- Goal: map all user-facing changes to docs additions/updates and define What's New highlights

## Current Docs IA Snapshot
- `content/1.start-here`: onboarding and quickstarts
- `content/2.whats-new`: cloud updates + changelog feed
- `content/3.cloud`: cloud setup, sync, API keys, web app
- `content/4.local`: local install and local workflows
- `content/5.concepts`: knowledge model, projects, memory URLs
- `content/6.integrations`: assistant-specific setup guides
- `content/7.how-to`: workflow examples
- `content/8.reference`: CLI, MCP tools, configuration, technical details

## New Pages To Add

### 1) Schema System (new standalone page)
- Path: `content/5.concepts/6.schema-system.md`
- Why: schema is now a core product feature (validation, inference, drift)
- Must cover:
  - what schema notes are (`type: schema`, `entity`, `version`, `schema`, `settings`)
  - schema resolution model (inline/ref/by-type)
  - practical workflow: infer -> create schema note -> validate -> diff
  - note type conventions (`person`, `meeting`, etc.)
  - links to CLI and MCP reference sections

### 2) Semantic Search (new standalone page)
- Path: `content/5.concepts/7.semantic-search.md`
- Why: major retrieval model upgrade (vector/hybrid, provider config, thresholds)
- Must cover:
  - search modes: `text`, `vector`/`semantic`, `hybrid`
  - semantic extras install (`basic-memory[semantic]`)
  - providers and config knobs
  - `semantic_min_similarity` + per-query `min_similarity`
  - reindex expectations and quality/performance tradeoffs

### 3) v0.19.0 What's New page
- Path: `content/2.whats-new/3.v0.19.0.md`
- Why: changelog feed is useful, but this release needs curated narrative and migration notes
- Must cover:
  - top features
  - key behavior changes
  - upgrade notes
  - links to new Schema + Semantic pages

## Existing Pages To Update

| Page | Priority | Update Required |
|---|---|---|
| `content/8.reference/6.configuration.md` | P0 | Replace legacy `default_project_mode` model with current behavior (`default_project` fallback), document `projects` entry shape, add `semantic_*` settings (including `semantic_min_similarity`), add `permalinks_include_project`, add cloud API key/per-project mode fields, add migration note for legacy config keys. |
| `content/8.reference/1.cli-reference.md` | P0 | Add `bm schema` commands, `bm watch`, per-project routing commands (`bm project set-cloud/set-local`), cloud API key commands (`bm cloud set-key/create-key`), and reindex semantic usage. |
| `content/8.reference/2.mcp-tools-reference.md` | P0 | Add schema tools (`schema_validate`, `schema_infer`, `schema_diff`), cloud discovery tools (`cloud_info`, `release_notes`), UI tools (`search_notes_ui`, `read_note_ui`), update `search_notes` params (`search_type`, `output_format`, `min_similarity`), update `write_note` for `note_type` + `metadata`. |
| `content/8.reference/3.ai-assistant-guide.md` | P0 | Update project resolution guidance (remove `default_project_mode` assumptions), add current memory URL/project-prefix behavior, add schema and semantic search usage patterns, update parameter names/requirements where drifted. |
| `content/5.concepts/4.memory-urls.md` | P0 | Expand from minimal examples to full v0.19 behavior: project-prefixed URLs, wildcard behavior, and cross-project references (`project::note` normalization, prefixed memory URLs). |
| `content/8.reference/4.technical-information.md` | P1 | Add architecture notes for schema subsystem and semantic retrieval pipeline (vector tables/providers/hybrid fusion + thresholding). |
| `content/4.local/1.local-install.md` | P1 | Add optional semantic extras install path and when users need it. |
| `content/4.local/2.cli-basics.md` | P1 | Include quick examples for schema commands, watch command, and search mode variants. |
| `content/4.local/3.mcp-tools-local.md` | P1 | Expand "common tools" list with schema and new search/read output options. |
| `content/3.cloud/1.cloud-guide.md` | P1 | Clarify global cloud mode vs per-project routing, and where API keys fit. |
| `content/3.cloud/7.api-keys.md` | P1 | Add CLI flow: create/save key then route project via `set-cloud`. |
| `content/1.start-here/3.quickstart-local.md` | P1 | Remove stale `default_project_mode` config snippets; update to current defaults and project behavior. |
| `content/1.start-here/4.getting-started.md` | P1 | Same stale config cleanup + short links to Schema/Semantic pages. |
| `content/6.integrations/1.claude-desktop.md` | P1 | Remove stale config examples using `default_project_mode`; refresh memory URL and project behavior notes. |
| `content/6.integrations/3.chatgpt.md` | P1 | Same config cleanup + refresh references to current project resolution behavior. |
| `content/2.whats-new/1.cloud.md` | P2 | Keep cloud-focused content, but add a pointer to `v0.19.0` page for core OSS feature changes. |

## What's New Highlights (Curated)
Use these as the hero bullets/sections for `content/2.whats-new/3.v0.19.0.md`.

1. **Schema System**
- New schema lifecycle: infer, validate, and detect drift for note types.

2. **Semantic Search 2.0**
- Vector + hybrid retrieval across SQLite/Postgres, with per-query similarity control.

3. **Per-Project Local/Cloud Routing**
- Route projects independently with `set-cloud`/`set-local` and API keys.

4. **Project-Prefixed Permalinks and Memory URL Routing**
- Better cross-project addressing and collision handling.

5. **MCP Output and UI Improvements**
- `search_notes`/`read_note` support structured, ASCII, and ANSI output modes plus UI resource variants.

6. **`write_note` Metadata Support**
- Pass arbitrary frontmatter metadata directly during note creation/update.

7. **Standalone `bm watch` Command**
- Run file watching/index sync without needing full MCP server workflow.

8. **Config and Upgrade Improvements**
- Unified project config model with migration from legacy fields.

## Behavior Changes To Explicitly Call Out
- `default_project_mode` is no longer the config model; `default_project` acts as fallback when set.
- Project config shape is now entry-based (path/mode/sync metadata), with automatic migration for older configs.
- Semantic search dependencies are optional extras; docs should always mention install path before semantic features.
- Project-prefixed permalinks and memory URL routing behavior should be documented as the current default path.

## Suggested Execution Order
1. Create new Schema and Semantic concept pages.
2. Update P0 reference pages (`configuration`, `cli-reference`, `mcp-tools-reference`, `ai-assistant-guide`, `memory-urls`).
3. Publish `What's New v0.19.0` page with curated highlights and migration notes.
4. Sweep quickstarts/integrations/cloud pages for stale config snippets and cross-links.
